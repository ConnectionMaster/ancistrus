<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<meta name="description" content="D7000">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Expires" content="Mon, 06 Jan 1990 00:00:01 GMT">
<title>NETGEAR Router D7000</title>
<link rel="stylesheet" href="style/form.css">
<style type="text/javascript">
	classes.num.all.fontFamily="Courier";
	classes.num.all.fontSize="10pt";
</style>
<script language="javascript" type="text/javascript" src="string.js"></script>
<script language="javascript" type="text/javascript" src="funcs.js"></script>
<script language="javascript" type="text/javascript" src="utility.js"></script>
<script language="javascript" type="text/javascript" src="linux.js"></script>
<script language="javascript" type="text/javascript">
<!--

function varInit() {
	var cf=document.forms[0];
	AncdataToVisible(cf);

	cf.testname.value="-s";
	cf.testhost.value="netperf.bufferbloat.net";
	cf.ipver.value="-4";
	cf.pinghost.value="gstatic.com";
	cf.duration.value="60";
}

function ipv6Check() {
	var cf=document.forms[0];

	if(cf.ipver.value=="-6" && "@h_ip6_mode#"=="disable") {
	cf.ipver.value="-4";
	alert("Warning ! IPV6 disabled !\n");
	}
}

function hostCheck(host, name) {
	var msg="", errmsg="Invalid "+name+"name !\n";
	var ValidHostnameRegex=new RegExp("^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\.[a-zA-Z]{2,})+$");

	if(host.length<1 || host.length>255 || host[0]=='.' || host[0]=='-' || !ValidHostnameRegex.test(host)) msg+=errmsg;
	return msg;
}

function checkData() {
	var cf=document.forms[0];
	var msg="";

	if(!checkipaddr(cf.testhost.value)) msg+=hostCheck(cf.testhost.value, "Test host");
	if(!checkipaddr(cf.pinghost.value)) msg+=hostCheck(cf.pinghost.value, "Ping host");

	if(msg.length>1) {
	alert(msg);
	return false;
	}

	cf.pipe_cmd.value="/usr/sbin/scripts/network-test.sh "+cf.testname.value+" "+cf.ipver.value+" -H "+cf.testhost.value+" -t "+cf.duration.value+" -p "+cf.pinghost.value;
	AncstdAction(cf,'anc_run.htm','network-test.htm','pipe','');
	return true;
}

//-->
</script></head>
<body bgcolor="#ffffff" leftmargin="0" marginwidth="0" topmargin="0" marginheight="0" onload="varInit();document.forms[0].elements[0].focus();">
<form name="networktest" method="POST" action="anc.cgi" onSubmit="buttonToDisabled(document.forms[0])">
<div><a class="page_title" href="javascript:gotoWiki('network-test-package/');">NETWORK TEST</a></div>
<div class="fix_button">
<table border="0" cellpadding="0" cellspacing="2" width="100%"><tr><td nowrap colspan="2" align="center">
<input class="cancel_bt" type="RESET" name="cancel" value="Cancel" onClick="setTimeout('varInit()',250)">
&nbsp;
<input class="apply_bt" type="SUBMIT" name="apply" value="Apply" onClick="return checkData()">
</td></tr></table>
</div>
<div id="main" class="main_top_button">
<table border="0" cellpadding="0" cellspacing="3" width="100%">
<tr><td align="left"><span><a href="javascript:gotoWiki('network-test-package#select-network-test-to-run');"><b>Select Network Test to run:</b></a></span></td>
	<td align="right"><select name="testname" size=1>
		<option value="-s">Speed Test</option>
		<option value="-c">Stress Test</option>
		<option value="-i">Latency Test</option>
	</select></td>
</tr>
<tr><td colspan="2" background="liteblue.gif" height="12"></td></tr>
<tr><td nowrap><a href="javascript:gotoWiki('network-test-package#remote-server-hostname');"><b>Remote Server Hostname:</b></a></td>
<td nowrap align="right"><input type="text" name="testhost" value="" size=20 maxlength=255></td></tr>
<tr><td align="left"><span><a href="javascript:gotoWiki('network-test-package#ip-version');"><b>IP Version:</b></a></span></td>
	<td align="right"><select name="ipver" size=1 onChange="ipv6Check()">
		<option value="-4">IPV4</option>
		<option value="-6">IPV6</option>
	</select></td>
</tr>
<tr><td align="left"><span><a href="javascript:gotoWiki('network-test-package#remote-ping-hostname');"><b>Remote Ping Hostname:</b></a></span></td>
<td nowrap align="right"><input type="text" name="pinghost" value="" size=20 maxlength=255></td></tr>
<tr><td align="left"><span><a href="javascript:gotoWiki('network-test-package#duration');"><b>Duration:</b></a></span></td>
	<td align="right"><select name="duration" size=1>
		<option value="60">60</option>
		<option value="90">90</option>
		<option value="120">120</option>
		<option value="180">180</option>
	</select>
&nbsp;<span>Sec</span></td>
</tr>
<tr><td colspan="2" background="liteblue.gif" height="12"></td></tr>
</table>
<input type="hidden" name="job" value="">
<input type="hidden" name="todo" value="">
<input type="hidden" name="pipe_cmd" value="">
<input type="hidden" name="next_file" value="">
<input type="hidden" name="old_file" value="">
<input type="hidden" name="h_ip6_mode" value="@h_ip6_mode#">
</div>
</form>
<script>printHelp();</script>
</body></html>
